<div class="bg-gradient-to-r from-[var(--primary)] to-[var(--nav-background)] p-6 rounded-t-2xl shadow">
  <h1 class="text-2xl font-bold text-[var(--primary-foreground)]">Create / Edit Service</h1>
  <p class="text-sm opacity-90 text-[var(--primary-foreground)]">
    Fill out the details below to add or update a service
  </p>
</div>

<form (ngSubmit)="onSubmit()" [formGroup]="serviceForm" class="space-y-10">

  <!-- Section 1: Basic Info -->
  <div class="bg-[var(--card-bg)] shadow rounded-xl p-6 space-y-6">
    <h2 class="text-xl font-bold text-gray-800 dark:text-white">Basic Information</h2>
    <div class="grid md:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-medium mb-1">Service Name</label>
        <input type="text" formControlName="name"
               class="w-full border rounded-lg p-3 focus:ring focus:ring-primary" placeholder="Enter service name"/>
      </div>

      <div>
        <label class="block text-sm font-medium mb-1">Provider</label>
        <input type="text" formControlName="provider"
               class="w-full border rounded-lg p-3 focus:ring focus:ring-primary" placeholder="Hospital/Clinic/Facilitator"/>
      </div>

      <div>
        <label class="block text-sm font-medium mb-1">Status</label>
        <select formControlName="status"
                class="w-full border rounded-lg p-3 focus:ring focus:ring-primary">
          <option value="active">Active</option>
          <option value="inactive">Inactive</option>
          <option value="draft">Draft</option>
        </select>
      </div>

      <div>
        <label class="block text-sm font-medium mb-1">Currency</label>
        <select formControlName="currency" class="w-full border rounded-lg p-3 focus:ring focus:ring-primary">
          <option value="USD">USD</option>
          <option value="EUR">EUR</option>
          <option value="INR">INR</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Section 2: Category -->
  <div class="bg-[var(--muted)] border border-[var(--border)] rounded-xl p-6 space-y-4">
    <h2 class="text-xl font-bold text-[var(--primary)] flex items-center gap-2">
      <i class="fas fa-layer-group"></i> Category
    </h2>
    <div class="grid sm:grid-cols-2 md:grid-cols-4 gap-4">
      <div
        *ngFor="let cat of categories"
        class="cursor-pointer border border-[var(--border)] rounded-lg p-4 flex flex-col items-center text-center transition transform hover:scale-105"
        [ngClass]="{
          'bg-[var(--primary)] text-[var(--primary-foreground)] shadow-lg ring-2 ring-[var(--primary)]': selectedCategory === cat.id,
          'hover:bg-[var(--primary)] hover:text-[var(--primary-foreground)]': selectedCategory !== cat.id
        }"
        (click)="selectCategory(cat.id)"
      >
        <i class="{{ cat.icon }} text-2xl mb-2"></i>
        <h4 class="font-semibold">{{ cat.value }}</h4>
        <p class="text-sm opacity-80">{{ cat.description }}</p>
      </div>
    </div>
  </div>

  <!-- Section 3: Pricing -->
  <div class="bg-[var(--card-bg)] shadow rounded-xl p-6 space-y-6">
    <h2 class="text-xl font-bold text-gray-800 dark:text-white">Pricing & Duration</h2>
    <div class="grid md:grid-cols-4 gap-6">
      <div>
        <label class="block text-sm font-medium mb-1">Price</label>
        <input type="number" formControlName="price" class="w-full border rounded-lg p-3" />
      </div>
      <div>
        <label class="block text-sm font-medium mb-1">Duration</label>
        <input type="text" formControlName="duration" class="w-full border rounded-lg p-3" placeholder="e.g. 5 Days"/>
      </div>
      <div>
        <label class="block text-sm font-medium mb-1">Discount %</label>
        <input type="number" formControlName="discount" class="w-full border rounded-lg p-3" />
      </div>
      <div>
        <label class="block text-sm font-medium mb-1">Tax %</label>
        <input type="number" formControlName="tax" class="w-full border rounded-lg p-3" />
      </div>
    </div>
  </div>

  <!-- Section 4: Details -->
  <div class="bg-[var(--card-bg)] shadow rounded-xl p-6 space-y-6">
    <h2 class="text-xl font-bold text-gray-800 dark:text-white">Service Details</h2>
    <div class="grid md:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-medium mb-1">Description</label>
        <textarea formControlName="description" rows="3" class="w-full border rounded-lg p-3"></textarea>
      </div>
      <div>
        <label class="block text-sm font-medium mb-1">Highlights</label>
        <textarea formControlName="keyHighlights" rows="3" class="w-full border rounded-lg p-3"></textarea>
      </div>
      <div>
        <label class="block text-sm font-medium mb-1">Inclusions</label>
        <textarea formControlName="inclusions" rows="3" class="w-full border rounded-lg p-3"></textarea>
      </div>
      <div>
        <label class="block text-sm font-medium mb-1">Exclusions</label>
        <textarea formControlName="exclusions" rows="3" class="w-full border rounded-lg p-3"></textarea>
      </div>
      <div class="md:col-span-2">
        <label class="block text-sm font-medium mb-1">Terms & Conditions</label>
        <textarea formControlName="termsAndConditions" rows="3" class="w-full border rounded-lg p-3"></textarea>
      </div>
    </div>
  </div>

  <!-- Section 5: Media -->
  <div class="bg-[var(--card-bg)] shadow rounded-xl p-6 space-y-6">
    <h2 class="text-xl font-bold text-gray-800 dark:text-white">Media</h2>
    <div class="grid md:grid-cols-3 gap-6">
      <div>
        <label class="block text-sm font-medium mb-1">Image Upload</label>
        <input type="file" (change)="onImageUpload($event)" class="w-full border rounded-lg p-3" />
      </div>
      <div>
        <label class="block text-sm font-medium mb-1">Video URL</label>
        <input type="text" formControlName="videoUrl" class="w-full border rounded-lg p-3" />
      </div>
      <div>
        <label class="block text-sm font-medium mb-1">Brochure URL</label>
        <input type="text" formControlName="brochureUrl" class="w-full border rounded-lg p-3" />
      </div>
    </div>
  </div>

  <!-- Section 6: Availability -->
  <div class="bg-[var(--card-bg)] shadow rounded-xl p-6 space-y-6">
    <h2 class="text-xl font-bold text-gray-800 dark:text-white">Availability</h2>
    <div class="grid md:grid-cols-3 gap-6">
      <div>
        <label class="block text-sm font-medium mb-1">Available From</label>
        <input type="date" formControlName="availableFrom" class="w-full border rounded-lg p-3" />
      </div>
      <div>
        <label class="block text-sm font-medium mb-1">Available Until</label>
        <input type="date" formControlName="availableUntil" class="w-full border rounded-lg p-3" />
      </div>
      <div>
        <label class="block text-sm font-medium mb-1">Booking Notice (days)</label>
        <input type="number" formControlName="bookingNotice" class="w-full border rounded-lg p-3" />
      </div>
    </div>
  </div>

  <!-- Actions -->
  <div class="sticky bottom-0 bg-white dark:bg-gray-900 py-4 px-6 border-t flex justify-end space-x-4">
    <button type="button" (click)="onReset()" 
            class="px-5 py-2 border rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800">Reset</button>
    <button type="button" (click)="onSaveDraft()" 
            class="px-5 py-2 border rounded-lg hover:bg-yellow-100 dark:hover:bg-yellow-900">Save Draft</button>
    <button type="submit" 
            class="px-5 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark">Submit</button>
  </div>
</form>
