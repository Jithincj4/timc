<div class="p-6">
    <h2 class="text-2xl font-bold text-primary mb-4">Patients by Facilitator</h2>
  
    <!-- Facilitator Dropdown -->
    <div class="mb-4">
      <label class="block mb-1 font-medium">Select Facilitator</label>
      <select
        [(ngModel)]="selectedFacilitatorId"
        (change)="loadPatients()"
        class="w-full p-2 rounded bg-dark border border-gray-700"
      >
        <option value="">-- Choose Facilitator --</option>
        <option *ngFor="let f of facilitators" [value]="f.id">{{ f.name }}</option>
      </select>
    </div>
  
    <!-- Loading State -->
    <div *ngIf="loadingPatients" class="text-gray-400">Loading patients...</div>
  
    <!-- Empty State -->
    <div *ngIf="!loadingPatients && patients.length === 0 && selectedFacilitatorId" class="text-gray-400">
      No patients assigned to this facilitator.
    </div>
  
    <!-- Patients Table -->
    <div *ngIf="!loadingPatients && patients.length > 0" class="overflow-x-auto">
      <table class="min-w-full border border-gray-700 rounded-lg overflow-hidden">
        <thead class="bg-gray-800 text-gray-300">
          <tr>
            <th class="px-4 py-2 text-left">Patient Name</th>
            <th class="px-4 py-2 text-left">Email</th>
            <th class="px-4 py-2 text-left">Phone</th>
            <th class="px-4 py-2 text-left">Status</th>
          </tr>
        </thead>
        <tbody class="bg-dark">
          <tr *ngFor="let p of patients" class="border-t border-gray-700">
            <td class="px-4 py-2">{{ p.fullName }}</td>
            <td class="px-4 py-2">{{ p.email }}</td>
            <td class="px-4 py-2">{{ p.phone }}</td>
            <td class="px-4 py-2">{{ p.status }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  